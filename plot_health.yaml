# Default config file for ACA perigee health plots

--- task
---

# directory mode; multiple ones, or single one storing plots in pass
#  directory
dir_mode: single

# for the single-directory case; file name for a legend image
legend_device: 'legend.ps/vcps'

# mappings of color names to pgplot integers
pg_colors:
   black: 1
   red: 2
   green: 3
   blue: 4
   cyan: 5
   yellow: 7
   orange: 8
   purple: 12
   magenta: 6

# array of colors used to plot obsids
allowed_colors:
 - red
 - green
 - blue
 - magenta
 - cyan
 - orange
 - purple

# telemetry columns that are used/required
data_columns:
 - time
 - obsid
 - aca_temp
 - ccd_temp
 - dac

plots:
 - aca_temp.ps
 - ccd_temp.ps
 - dac.ps
 - dacvsdtemp.ps

stats_columns:
 - aca_temp
 - ccd_temp
 - dac
 - time
 - dtemp
 - dtime

stats_file: stats.yaml

polyfit:
 - x: dtemp
   y: dac
   order: 1
   result: dac_vs_dtemp_fit
   min_dx: .1
   points:
     - type: fit_y
       plug_x: 38
     - type: fit_x
       solve_y: 500
# and a range to solve for y numerically
       xmin: 20
       xmax: 60       



# INDIVIDUAL PLOT-SPECIFIC OPTIONS -------------------------------------
--- plot
---

# aca temp vs time plot
aca_temp:
   mode: none
   # plot limits
   lims:
     - ~
     - ~
     - ~
     - ~
   min_y_size: 2
   xtitle: 'Hours from Radmon disable'
   ytitle: 'ACA temp (C)'
   x: dtime
   y: aca_temp
   device: 'aca_temp.ps/vcps'
   symbol_size: 1   
   axis_title_size: 1.5
   axis_num_size: 1.5
      

# ccd temp vs time plot
ccd_temp:
   mode: none
   # plot limits
   lims:
     - ~
     - ~
     - ~
     - ~
   min_y_size: 1
   xtitle: 'Hours from Radmon disable'
   ytitle: 'CCD temp (C)'
   x: dtime
   y: ccd_temp
   device: 'ccd_temp.ps/vcps'
   symbol_size: 1
   axis_title_size: 1.5
   axis_num_size: 1.5

# dac vs time plot
dac:
   mode: none
   # plot limits
   lims:
     - ~
     - ~
     - ~
     - ~
   min_y_size: 10
   xtitle: 'Hours from Radmon disable'
   ytitle: 'TEC DAC Control Level'
   randomize_unit: 1
   x: dtime
   y: dac
   device: 'dac.ps/vcps'
   symbol_size: .5
   axis_num_size: 1.5
   axis_title_size: 1.5
   warn: 
      max: 500


# dac vs dtemp plot
dac_vs_dtemp:
   mode: none
   # plot limits
   lims:
     - ~
     - ~
     - ~
     - ~
   min_y_size: 10
   min_x_size: .1
   xtitle: 'ACA temp - CCD temp (C)'
   ytitle: 'TEC DAC Control Level'
   randomize_unit: 1
   x: dtemp
   y: dac
   oplot:
   # array of hashes to overplot
   # so far, code only knows how to plot 2rd order polynomials
     - type: poly
       poly:
         - 114.474
         - 0.403096
         - 0.236348
       npoints: 20
       plot_type: line
       color:
          line: black
       options:
          linestyle: dashed
     - type: polyfit
       polyname: dac_vs_dtemp_fit
       npoints: 20	
       plot_type: line
       color:
          line: black
       options:
          linestyle: dotted
   device: 'dacvsdtemp.ps/vcps'
   symbol_size: .5
   axis_num_size: 1.5
   axis_title_size: 1.5


--- report
---

file: report.txt	

report_text: report_template.txt
